[gd_scene load_steps=18 format=3 uid="uid://cmdo4y67uis4f"]

[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/npc.gd" id="1_e8lvv"]
[ext_resource type="Texture2D" uid="uid://j5b72bfewmqr" path="res://Assets/Characters/Enemies/Prototype/No Outlines/players green x1.png" id="2_jwyqi"]
[ext_resource type="PackedScene" uid="uid://cmbpwc3svcncr" path="res://Scenes/NPCs/NPC-newTest-/npcs_state_machine.tscn" id="2_tklva"]
[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/idle.gd" id="3_d4vqv"]
[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/run.gd" id="5_ysxli"]
[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/shoot.gd" id="6_7csx7"]
[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/reload.gd" id="7_h6x30"]
[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/talk.gd" id="8_5xtl5"]
[ext_resource type="Script" path="res://Scenes/NPCs/NPC-newTest-/die.gd" id="8_16q4q"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6da7p"]
size = Vector2(30, 36)

[sub_resource type="Animation" id="Animation_a4b5n"]
resource_name = "Idle"

[sub_resource type="Animation" id="Animation_dpk7x"]
resource_name = "Running"

[sub_resource type="Animation" id="Animation_57c1o"]
resource_name = "Shooting"

[sub_resource type="Animation" id="Animation_okxx1"]
resource_name = "Death"

[sub_resource type="Animation" id="Animation_f2xjk"]
resource_name = "Reloading"

[sub_resource type="Animation" id="Animation_kcs6m"]
resource_name = "Talking"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fbn5t"]
_data = {
"Death": SubResource("Animation_okxx1"),
"Idle": SubResource("Animation_a4b5n"),
"Reloading": SubResource("Animation_f2xjk"),
"Running": SubResource("Animation_dpk7x"),
"Shooting": SubResource("Animation_57c1o"),
"Talking": SubResource("Animation_kcs6m")
}

[node name="NPC" type="CharacterBody2D"]
script = ExtResource("1_e8lvv")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(0, -16)
scale = Vector2(2, 2)
texture = ExtResource("2_jwyqi")
hframes = 8
vframes = 13
frame = 32

[node name="GunBarrel" type="Marker2D" parent="Sprite2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(1, -2)
shape = SubResource("RectangleShape2D_6da7p")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_fbn5t")
}

[node name="NPCsStateMachine" parent="." node_paths=PackedStringArray("startingState") instance=ExtResource("2_tklva")]
startingState = NodePath("Idle")

[node name="Idle" type="Node" parent="NPCsStateMachine" node_paths=PackedStringArray("runningState", "shootingState", "reloadingState", "talkingState", "deathState")]
script = ExtResource("3_d4vqv")
runningState = NodePath("../Run")
shootingState = NodePath("../Shoot")
reloadingState = NodePath("../Reload")
talkingState = NodePath("../Talk")
deathState = NodePath("../Die")
animationName = "Idle"

[node name="Run" type="Node" parent="NPCsStateMachine" node_paths=PackedStringArray("idleState", "shootingState", "reloadingState", "talkingState", "deathState")]
script = ExtResource("5_ysxli")
idleState = NodePath("../Idle")
shootingState = NodePath("../Shoot")
reloadingState = NodePath("../Reload")
talkingState = NodePath("../Talk")
deathState = NodePath("../Die")
animationName = "Running"

[node name="Shoot" type="Node" parent="NPCsStateMachine" node_paths=PackedStringArray("idleState", "runningState", "reloadingState", "talkingState", "deathState")]
script = ExtResource("6_7csx7")
idleState = NodePath("../Idle")
runningState = NodePath("../Run")
reloadingState = NodePath("../Reload")
talkingState = NodePath("../Talk")
deathState = NodePath("../Die")
animationName = "Shooting"

[node name="Reload" type="Node" parent="NPCsStateMachine" node_paths=PackedStringArray("idleState", "runningState", "shootingState", "talkingState", "deathState")]
script = ExtResource("7_h6x30")
idleState = NodePath("../Idle")
runningState = NodePath("../Run")
shootingState = NodePath("../Shoot")
talkingState = NodePath("../Talk")
deathState = NodePath("../Die")
animationName = "Reloading"

[node name="Talk" type="Node" parent="NPCsStateMachine" node_paths=PackedStringArray("idleState", "runningState", "shootingState", "reloadingState", "deathState")]
script = ExtResource("8_5xtl5")
idleState = NodePath("../Idle")
runningState = NodePath("../Run")
shootingState = NodePath("../Shoot")
reloadingState = NodePath("../Reload")
deathState = NodePath("../Die")
animationName = "Talking"

[node name="Die" type="Node" parent="NPCsStateMachine" node_paths=PackedStringArray("idleState", "runningState", "shootingState", "reloadingState", "talkingState")]
script = ExtResource("8_16q4q")
idleState = NodePath("../Idle")
runningState = NodePath("../Run")
shootingState = NodePath("../Shoot")
reloadingState = NodePath("../Reload")
talkingState = NodePath("../Talk")
animationName = "Death"
